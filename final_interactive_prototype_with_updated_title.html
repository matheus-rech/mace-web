
<!DOCTYPE html>

<html>
<head>
<title>Medical Prediction Tool</title>
<link href="styles.css" rel="stylesheet" type="text/css"/>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
function updateOutput(sliderID, outputID) {
  var slider = document.getElementById(sliderID);
  var output = document.getElementById(outputID);
  output.innerHTML = slider.value;
}
</script></head>
<body>
<div class="container">
<h1>Major Acute Cardiovascular Events after Liver Transplantation Prediction Tool</h1>
<div class="output-group">
<h2>Prediction: <span id="prediction"></span></h2>
<h2>Probability: <span id="probability"></span></h2>
</div>
<div class="input-group"><label for="Weight">Patient Weight (kg):</label><input id="Weight" max="200" min="40" oninput="updateOutput('Weight', 'Weight_output')" step="1" type="range" value="120"/><output id="Weight_output">120</output></div><div class="input-group"><label for="Height">Patient Height (cm):</label><input id="Height" max="210" min="140" oninput="updateOutput('Height', 'Height_output')" step="1" type="range" value="175"/><output id="Height_output">175</output></div><div class="input-group"><label for="BodyMassIndex">Body Mass Index (BMI):</label><input id="BodyMassIndex" max="40" min="15" oninput="updateOutput('BodyMassIndex', 'BodyMassIndex_output')" step="1" type="range" value="27"/><output id="BodyMassIndex_output">27</output></div><div class="input-group"><label for="Hematocrit">Hematocrit:</label><input id="Hematocrit" max="60" min="20" oninput="updateOutput('Hematocrit', 'Hematocrit_output')" step="1" type="range" value="40"/><output id="Hematocrit_output">40</output></div><div class="input-group"><label for="Leukocytes">Leukocyte Count:</label><input id="Leukocytes" max="30" min="1" oninput="updateOutput('Leukocytes', 'Leukocytes_output')" step="1" type="range" value="15"/><output id="Leukocytes_output">15</output></div><div class="input-group"><label for="Platelets">Platelets:</label><input id="Platelets" max="600" min="50" oninput="updateOutput('Platelets', 'Platelets_output')" step="1" type="range" value="325"/><output id="Platelets_output">325</output></div><div class="input-group"><label for="TotalBilirubin">TotalBilirubin:</label><input id="TotalBilirubin" max="50" min="0" oninput="updateOutput('TotalBilirubin', 'TotalBilirubin_output')" step="1" type="range" value="25"/><output id="TotalBilirubin_output">25</output></div><div class="input-group"><label for="DirectBilirubin">Direct Bilirubin Level:</label><input id="DirectBilirubin" max="40" min="0" oninput="updateOutput('DirectBilirubin', 'DirectBilirubin_output')" step="1" type="range" value="20"/><output id="DirectBilirubin_output">20</output></div><div class="input-group"><label for="Creatinine">Creatinine Level:</label><input id="Creatinine" max="5" min="0.2" oninput="updateOutput('Creatinine', 'Creatinine_output')" step="1" type="range" value="2.0"/><output id="Creatinine_output">2.0</output></div><div class="input-group"><label for="Urea">Urea Level:</label><input id="Urea" max="150" min="5" oninput="updateOutput('Urea', 'Urea_output')" step="1" type="range" value="77"/><output id="Urea_output">77</output></div><div class="input-group"><label for="ProthrombinTimeActivity">ProthrombinTimeActivity:</label><input id="ProthrombinTimeActivity" max="150" min="50" oninput="updateOutput('ProthrombinTimeActivity', 'ProthrombinTimeActivity_output')" step="1" type="range" value="100"/><output id="ProthrombinTimeActivity_output">100</output></div><div class="input-group"><label for="InternationalNormalizedRatio">InternationalNormalizedRatio:</label><input id="InternationalNormalizedRatio" max="5" min="0.8" oninput="updateOutput('InternationalNormalizedRatio', 'InternationalNormalizedRatio_output')" step="1" type="range" value="2.0"/><output id="InternationalNormalizedRatio_output">2.0</output></div><div class="input-group"><label for="Sodium">Sodium:</label><input id="Sodium" max="160" min="120" oninput="updateOutput('Sodium', 'Sodium_output')" step="1" type="range" value="140"/><output id="Sodium_output">140</output></div><div class="input-group"><label for="Potassium">Potassium:</label><input id="Potassium" max="7" min="2" oninput="updateOutput('Potassium', 'Potassium_output')" step="1" type="range" value="4"/><output id="Potassium_output">4</output></div><div class="input-group"><label for="Albumin">Albumin:</label><input id="Albumin" max="5" min="1" oninput="updateOutput('Albumin', 'Albumin_output')" step="1" type="range" value="3"/><output id="Albumin_output">3</output></div><div class="input-group"><label for="AST">Aspartate Aminotransferase (AST):</label><input id="AST" max="300" min="5" oninput="updateOutput('AST', 'AST_output')" step="1" type="range" value="152"/><output id="AST_output">152</output></div><div class="input-group"><label for="ALT">Alanine Aminotransferase (ALT):</label><input id="ALT" max="300" min="5" oninput="updateOutput('ALT', 'ALT_output')" step="1" type="range" value="152"/><output id="ALT_output">152</output></div><div class="input-group"><label for="GGT">Gamma-Glutamyl Transferase (GGT):</label><input id="GGT" max="300" min="5" oninput="updateOutput('GGT', 'GGT_output')" step="1" type="range" value="152"/><output id="GGT_output">152</output></div><div class="input-group"><label for="AlkalinePhosphatase">AlkalinePhosphatase:</label><input id="AlkalinePhosphatase" max="400" min="20" oninput="updateOutput('AlkalinePhosphatase', 'AlkalinePhosphatase_output')" step="1" type="range" value="210"/><output id="AlkalinePhosphatase_output">210</output></div><div class="input-group"><label for="BloodGroup">BloodGroup:</label><select id="BloodGroup"><option value="1">A</option><option value="2">B</option><option value="3">C</option><option value="4">D</option></select></div><div class="input-group"><label for="CongestiveHeartFailure">CongestiveHeartFailure:</label><select id="CongestiveHeartFailure"><option value="0">No</option><option value="1">Yes</option></select></div><div class="input-group"><label for="Angioplasty">Angioplasty:</label><select id="Angioplasty"><option value="0">No</option><option value="1">Yes</option></select></div><div class="input-group"><label for="Dyslipidemia">Dyslipidemia:</label><select id="Dyslipidemia"><option value="0">No</option><option value="1">Yes</option></select></div><div class="input-group"><label for="ValveReplacement">Valve Replacement Type:</label><select id="ValveReplacement"><option value="0">No</option><option value="1">Metallic</option><option value="2">Biological</option></select></div><div class="input-group"><label for="NonInvasiveMethod">Non-Invasive Method Used:</label><select id="NonInvasiveMethod"><option value="0">No</option><option value="1">Yes</option></select></div><div class="input-group"><label for="Stroke">Type of Stroke:</label><select id="Stroke"><option value="0">No</option><option value="1">Ischemic</option><option value="2">Hemorrhagic</option></select></div><div class="input-group"><label for="DiabetesMellitus">DiabetesMellitus:</label><select id="DiabetesMellitus"><option value="0">No</option><option value="1">Yes</option></select></div><button class="predict-button" onclick="this.innerHTML = 'Predicting...'; this.style.backgroundColor = '#ff5555';">Predict</button></div>
<script>
    function getPrediction() {
      const Weight = $('#Weight').val();
      const SpontaneousBacterialPeritonitis = $('#SpontaneousBacterialPeritonitis').val();
      $.post('http://localhost:5000/predict', {
        Weight,
        SpontaneousBacterialPeritonitis,
      })
      .done(function(data) {
        $('#prediction').text(data.prediction);
        $('#probability').text(data.probability);
      })
      .fail(function(xhr, status, error) {
        alert('Prediction failed: ' + error);
      });
    }
  </script>
</body>
</html>
